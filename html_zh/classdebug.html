<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LuaSTG-x Core API: debug类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="/*height: 56px;*/">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname" style="font-size: 150%;">LuaSTG-x Core API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classdebug.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">类</a> &#124;
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="classdebug-members.html">所有成员列表</a>  </div>
  <div class="headertitle">
<div class="title">debug类 参考<div class="ingroups"><a class="el" href="group___lua___builtin.html">Lua_Builtin</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
类</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug_1_1_debug_info.html">DebugInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:aca1c7435acd8265f9c979c3c37568074"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#aca1c7435acd8265f9c979c3c37568074">debug</a> ()</td></tr>
<tr class="separator:aca1c7435acd8265f9c979c3c37568074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a472b214dc81b31f83745659b5f952217"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#a472b214dc81b31f83745659b5f952217">getfenv</a> (<a class="el" href="classlocal.html">local</a> o)</td></tr>
<tr class="separator:a472b214dc81b31f83745659b5f952217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad95a79cfa89c4ad86ba9a454553724b0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#ad95a79cfa89c4ad86ba9a454553724b0">gethook</a> (<a class="el" href="classlocal.html">local</a> <a class="el" href="classthread.html">thread</a>)</td></tr>
<tr class="separator:ad95a79cfa89c4ad86ba9a454553724b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a449bb361bb8b82584703105f46614c95"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#a449bb361bb8b82584703105f46614c95">getinfo</a> (<a class="el" href="classlocal.html">local</a> <a class="el" href="classthread.html">thread</a>, <a class="el" href="classlocal.html">local</a> f, <a class="el" href="classlocal.html">local</a> what)</td></tr>
<tr class="separator:a449bb361bb8b82584703105f46614c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a911b2c5653e085c4bc9ac7e4731ebc3c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#a911b2c5653e085c4bc9ac7e4731ebc3c">getlocal</a> (<a class="el" href="classlocal.html">local</a> <a class="el" href="classthread.html">thread</a>, <a class="el" href="classlocal.html">local</a> f, <a class="el" href="classlocal.html">local</a> var)</td></tr>
<tr class="separator:a911b2c5653e085c4bc9ac7e4731ebc3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a6f3d48ec33f3c66b2b9fc3311174c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#a67a6f3d48ec33f3c66b2b9fc3311174c">getmetatable</a> (<a class="el" href="classlocal.html">local</a> value)</td></tr>
<tr class="separator:a67a6f3d48ec33f3c66b2b9fc3311174c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec69278e0b7ca3eae216264ce5e0d19"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#a5ec69278e0b7ca3eae216264ce5e0d19">getregistry</a> ()</td></tr>
<tr class="separator:a5ec69278e0b7ca3eae216264ce5e0d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac223bf0a7f94df993df6ca46754c68b6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#ac223bf0a7f94df993df6ca46754c68b6">getupvalue</a> (<a class="el" href="classlocal.html">local</a> f, <a class="el" href="classlocal.html">local</a> up)</td></tr>
<tr class="separator:ac223bf0a7f94df993df6ca46754c68b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d1a3617428e52e10821f5c9f4092433"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#a8d1a3617428e52e10821f5c9f4092433">setfenv</a> (<a class="el" href="classlocal.html">local</a> <a class="el" href="classobject.html">object</a>, <a class="el" href="classlocal.html">local</a> <a class="el" href="classtable.html">table</a>)</td></tr>
<tr class="separator:a8d1a3617428e52e10821f5c9f4092433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbeb3c301b44dbe8628c190a06e0be95"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#acbeb3c301b44dbe8628c190a06e0be95">sethook</a> (<a class="el" href="classlocal.html">local</a> <a class="el" href="classthread.html">thread</a>, <a class="el" href="classlocal.html">local</a> hook, <a class="el" href="classlocal.html">local</a> mask, <a class="el" href="classlocal.html">local</a> count)</td></tr>
<tr class="separator:acbeb3c301b44dbe8628c190a06e0be95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef7d7765642d0696f1d7401e8376e2a1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#aef7d7765642d0696f1d7401e8376e2a1">setlocal</a> (<a class="el" href="classlocal.html">local</a> <a class="el" href="classthread.html">thread</a>, <a class="el" href="classlocal.html">local</a> level, <a class="el" href="classlocal.html">local</a> var, <a class="el" href="classlocal.html">local</a> value)</td></tr>
<tr class="separator:aef7d7765642d0696f1d7401e8376e2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b859466fc6dd58dce4bf455e4f16931"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#a0b859466fc6dd58dce4bf455e4f16931">setmetatable</a> (<a class="el" href="classlocal.html">local</a> value, <a class="el" href="classlocal.html">local</a> <a class="el" href="classtable.html">table</a>)</td></tr>
<tr class="separator:a0b859466fc6dd58dce4bf455e4f16931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485470c5c17f685105bb998e832b8d9e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#a485470c5c17f685105bb998e832b8d9e">setupvalue</a> (<a class="el" href="classlocal.html">local</a> f, <a class="el" href="classlocal.html">local</a> up, <a class="el" href="classlocal.html">local</a> value)</td></tr>
<tr class="separator:a485470c5c17f685105bb998e832b8d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab956b61be74023c8ee0a34985248bb59"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdebug.html#ab956b61be74023c8ee0a34985248bb59">traceback</a> (<a class="el" href="classlocal.html">local</a> <a class="el" href="classthread.html">thread</a>, <a class="el" href="classlocal.html">local</a> message, <a class="el" href="classlocal.html">local</a> level)</td></tr>
<tr class="separator:ab956b61be74023c8ee0a34985248bb59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>调试库提供了 Lua 程序调试接口的功能。</p>
<p>其中一些函数违反了 Lua 代码的基本假定</p>
<p>（例如，不会从函数之外访问函数的局部变量；</p>
<p>用户数据的元表不会被 Lua 代码修改；Lua 程序不会崩溃），</p>
<p>因此它们有可能危害到其它代码的安全性。</p>
<p>此外，库里的一些函数可能运行的很慢。</p>
<p>这个库里的所有函数都提供在表 <code>debug</code> 内。</p>
<p>所有操作线程的函数，可选的第一个参数都是针对的线程。</p>
<p>默认值永远是当前线程。 </p>
</div><h2 class="groupheader">构造及析构函数说明</h2>
<a id="aca1c7435acd8265f9c979c3c37568074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca1c7435acd8265f9c979c3c37568074">&#9670;&nbsp;</a></span>debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> <a class="el" href="classdebug.html">debug</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>进入一个用户交互模式，运行用户输入的每个字符串。</p>
<p>使用简单的命令以及其它调试设置，用户可以检阅全局变量和局部变量，</p>
<p>改变变量的值，计算一些表达式，等等。</p>
<p>输入一行仅包含 <code>cont</code> 的字符串将结束这个函数，</p>
<p>这样调用者就可以继续向下运行。</p>
<p>注意，<code><a class="el" href="classdebug.html#aca1c7435acd8265f9c979c3c37568074">debug.debug</a></code> 输入的命令在文法上并没有内嵌到任何函数中，</p>
<p>因此不能直接去访问局部变量。 </p>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="a472b214dc81b31f83745659b5f952217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a472b214dc81b31f83745659b5f952217">&#9670;&nbsp;</a></span>getfenv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> getfenv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the environment of object <code>o</code>. </p>

</div>
</div>
<a id="ad95a79cfa89c4ad86ba9a454553724b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad95a79cfa89c4ad86ba9a454553724b0">&#9670;&nbsp;</a></span>gethook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> gethook </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>返回三个表示线程钩子设置的值：</p>
<p>当前钩子函数，当前钩子掩码，当前钩子计数</p>
<p>（<code><a class="el" href="classdebug.html#acbeb3c301b44dbe8628c190a06e0be95">debug.sethook</a></code> 设置的那些）。</p>
<dl class="section user"><dt>重载</dt><dd>fun():thread</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>thread</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>thread </dd></dl>

</div>
</div>
<a id="a449bb361bb8b82584703105f46614c95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a449bb361bb8b82584703105f46614c95">&#9670;&nbsp;</a></span>getinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> getinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>what</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>返回关于一个函数信息的表。</p>
<p>你可以直接提供该函数，</p>
<p>也可以用一个数字 <code>f</code> 表示该函数。</p>
<p>数字 <code>f</code> 表示运行在指定线程的调用栈对应层次上的函数：</p>
<p>0 层表示当前函数（<code>getinfo</code> 自身）；</p>
<p>1 层表示调用 <code>getinfo</code> 的函数</p>
<p>（除非是尾调用，这种情况不计入栈）；等等。</p>
<p>如果 <code>f</code> 是一个比活动函数数量还大的数字，</p>
<p><code>getinfo</code> 返回 **nil**。</p>
<p>只有字符串 <code>what</code> 中有描述要填充哪些项，</p>
<p>返回的表可以包含 <code>lua_getinfo</code> 能返回的所有项。</p>
<p><code>what</code> 默认是返回提供的除合法行号表外的所有信息。</p>
<p>对于选项 '<code>f</code>' ，会在可能的情况下，增加</p>
<p><code>func</code> 域保存函数自身。</p>
<p>对于选项 '<code>L</code>' ，会在可能的情况下，增加</p>
<p><code>activelines</code> 域保存合法行号表。</p>
<p>例如,表达式 <code><a class="el" href="classdebug.html#a449bb361bb8b82584703105f46614c95">debug.getinfo</a>(1,"n")</code></p>
<p>返回带有当前函数名字信息的表（如果找的到名字的话），</p>
<p>表达式 <code>debug.getinfo(print)</code></p>
<p>返回关于 <code>print</code> 函数的</p>
<p>包含有所有能提供信息的表。</p>
<dl class="section user"><dt>重载</dt><dd>fun(f:function):<a class="el" href="classdebug_1_1_debug_info.html">DebugInfo</a></dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>thread</td></tr>
    <tr><td class="paramname">f</td><td>function</td></tr>
    <tr><td class="paramname">what</td><td>string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><a class="el" href="classdebug_1_1_debug_info.html">debug.DebugInfo</a> </dd></dl>

</div>
</div>
<a id="a911b2c5653e085c4bc9ac7e4731ebc3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a911b2c5653e085c4bc9ac7e4731ebc3c">&#9670;&nbsp;</a></span>getlocal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> getlocal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>此函数返回在栈的 <code>f</code> 层处函数的索引为 <code>local</code> 的局部变量</p>
<p>的名字和值。</p>
<p>这个函数不仅用于访问显式定义的局部变量，也包括形参、临时变量等。</p>
<p>第一个形参或是定义的第一个局部变量的索引为 1 ，</p>
<p>然后遵循在代码中定义次序，以次类推。</p>
<p>其中只计算函数当前作用域的活动变量。</p>
<p>负索引指可变参数；</p>
<p>-1 指第一个可变参数。</p>
<p>如果该索引处没有变量，函数返回 **nil**。</p>
<p>若指定的层次越界，抛出错误。</p>
<p>（你可以调用 <code><a class="el" href="classdebug.html#a449bb361bb8b82584703105f46614c95">debug.getinfo</a></code> 来检查层次是否合法。）</p>
<p>以 '<code>(</code>' （开括号）打头的变量名表示没有名字的变量</p>
<p>（比如是循环控制用到的控制变量，</p>
<p>或是去除了调试信息的代码块）。</p>
<p>参数 <code>f</code> 也可以是一个函数。</p>
<p>这种情况下，<code>getlocal</code> 仅返回函数形参的名字。</p>
<dl class="section user"><dt>重载</dt><dd>fun(f:table, var:string):table</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>thread</td></tr>
    <tr><td class="paramname">f</td><td>table</td></tr>
    <tr><td class="paramname">var</td><td>string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>table </dd></dl>

</div>
</div>
<a id="a67a6f3d48ec33f3c66b2b9fc3311174c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67a6f3d48ec33f3c66b2b9fc3311174c">&#9670;&nbsp;</a></span>getmetatable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> getmetatable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>返回给定 <code>value</code> 的元表。若其没有元表则返回 <b>nil</b> 。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>table</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>table </dd></dl>

</div>
</div>
<a id="a5ec69278e0b7ca3eae216264ce5e0d19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ec69278e0b7ca3eae216264ce5e0d19">&#9670;&nbsp;</a></span>getregistry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> getregistry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>返回注册表。</p>
<dl class="section return"><dt>返回</dt><dd>table </dd></dl>

</div>
</div>
<a id="ac223bf0a7f94df993df6ca46754c68b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac223bf0a7f94df993df6ca46754c68b6">&#9670;&nbsp;</a></span>getupvalue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> getupvalue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>up</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>此函数返回函数 <code>f</code> 的第 <code>up</code> 个上值的名字和值。</p>
<p>如果该函数没有那个上值，返回 <b>nil</b> 。</p>
<p>以 '<code>(</code>' （开括号）打头的变量名表示没有名字的变量</p>
<p>（去除了调试信息的代码块）。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>number</td></tr>
    <tr><td class="paramname">up</td><td>number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>table </dd></dl>

</div>
</div>
<a id="a8d1a3617428e52e10821f5c9f4092433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d1a3617428e52e10821f5c9f4092433">&#9670;&nbsp;</a></span>setfenv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> setfenv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the environment of the given object to the given table. Returns object.</p>
<p>@generic T</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>T</td></tr>
    <tr><td class="paramname">table</td><td>table</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>T </dd></dl>

</div>
</div>
<a id="acbeb3c301b44dbe8628c190a06e0be95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbeb3c301b44dbe8628c190a06e0be95">&#9670;&nbsp;</a></span>sethook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> sethook </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>hook</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>将一个函数作为钩子函数设入。</p>
<p>字符串 <code>mask</code> 以及数字 <code>count</code> 决定了钩子将在何时调用。</p>
<p>掩码是由下列字符组合成的字符串，每个字符有其含义：</p>
<p>**'c`** : 每当 Lua 调用一个函数时，调用钩子；</p>
<p>**'r'** : 每当 Lua 从一个函数内返回时，调用钩子；</p>
<p>**'l'** : 每当 Lua 进入新的一行时，调用钩子。</p>
<p>此外，传入一个不为零的 <code>count</code> ，</p>
<p>钩子将在每运行 <code>count</code> 条指令时调用。</p>
<p>如果不传入参数，</p>
<p><code><a class="el" href="classdebug.html#acbeb3c301b44dbe8628c190a06e0be95">debug.sethook</a></code> 关闭钩子。</p>
<p>当钩子被调用时，</p>
<p>第一个参数是触发这次调用的事件：</p>
<p><code>"call"</code> （或 <code>"tail call"</code>），</p>
<p><code>"return"</code>，<code>"line"</code>， <code>"count"</code>。</p>
<p>对于行事件，钩子的第二个参数是新的行号。</p>
<p>在钩子内，你可以调用 <code>getinfo</code> ，指定第 2 层，</p>
<p>来获得正在运行的函数的详细信息</p>
<p>（0 层指 <code>getinfo</code> 函数，1 层指钩子函数）。</p>
<dl class="section user"><dt>重载</dt><dd>fun(hook:(fun():any), mask:any)</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>thread</td></tr>
    <tr><td class="paramname">hook</td><td>fun():any</td></tr>
    <tr><td class="paramname">mask</td><td>string</td></tr>
    <tr><td class="paramname">count</td><td>number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aef7d7765642d0696f1d7401e8376e2a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef7d7765642d0696f1d7401e8376e2a1">&#9670;&nbsp;</a></span>setlocal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> setlocal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>这个函数将 <code>value</code> 赋给</p>
<p>栈上第 <code>level</code> 层函数的第 <code>local</code> 个局部变量。</p>
<p>如果没有那个变量，函数返回 <b>nil</b> 。</p>
<p>如果 <code>level</code> 越界，抛出一个错误。</p>
<p>（你可以调用 <code><a class="el" href="classdebug.html#a449bb361bb8b82584703105f46614c95">debug.getinfo</a></code> 来检查层次是否合法。）</p>
<p>否则，它返回局部变量的名字。</p>
<p>关于变量索引和名字，参见 <code><a class="el" href="classdebug.html#a911b2c5653e085c4bc9ac7e4731ebc3c">debug.getlocal</a></code>。</p>
<dl class="section user"><dt>重载</dt><dd>fun(level:number, var:string, value:any):string</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>thread</td></tr>
    <tr><td class="paramname">level</td><td>number</td></tr>
    <tr><td class="paramname">var</td><td>string</td></tr>
    <tr><td class="paramname">value</td><td>any</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>string </dd></dl>

</div>
</div>
<a id="a0b859466fc6dd58dce4bf455e4f16931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b859466fc6dd58dce4bf455e4f16931">&#9670;&nbsp;</a></span>setmetatable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> setmetatable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>将 <code>value</code> 的元表设为 <code>table</code> （可以是 **nil**）。</p>
<p>返回 <code>value</code>。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>any</td></tr>
    <tr><td class="paramname">table</td><td>table</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>boolean </dd></dl>

</div>
</div>
<a id="a485470c5c17f685105bb998e832b8d9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485470c5c17f685105bb998e832b8d9e">&#9670;&nbsp;</a></span>setupvalue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> setupvalue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>up</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>这个函数将 <code>value</code> 设为函数 <code>f</code> 的第 <code>up</code> 个上值。</p>
<p>如果函数没有那个上值，返回 <b>nil</b> 。</p>
<p>否则，返回该上值的名字。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>fun():any</td></tr>
    <tr><td class="paramname">up</td><td>number</td></tr>
    <tr><td class="paramname">value</td><td>any</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>string </dd></dl>

</div>
</div>
<a id="ab956b61be74023c8ee0a34985248bb59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab956b61be74023c8ee0a34985248bb59">&#9670;&nbsp;</a></span>traceback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> traceback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>如果 <code>message</code> 有，且不是字符串或 **nil**，</p>
<p>函数不做任何处理直接返回 <code>message</code>。</p>
<p>否则，它返回调用栈的栈回溯信息。</p>
<p>字符串可选项 <code>message</code> 被添加在栈回溯信息的开头。</p>
<p>数字可选项 <code>level</code> 指明从栈的哪一层开始回溯</p>
<p>（默认为 1 ，即调用 <code>traceback</code> 的那里）。</p>
<dl class="section user"><dt>重载</dt><dd>fun():string</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>thread</td></tr>
    <tr><td class="paramname">message</td><td>string</td></tr>
    <tr><td class="paramname">level</td><td>number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>string </dd></dl>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>luajit/<a class="el" href="luajit_2debug_8lua_8hpp.html">debug.lua.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classdebug.html">debug</a></li>
    <li class="footer">生成于 2020年 七月 21日 星期二 18:34:28 , 为 LuaSTG-x Core API使用 
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
