<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LuaSTG-x Core API: lfs类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="/*height: 56px;*/">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname" style="font-size: 150%;">LuaSTG-x Core API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classlfs.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">类</a> &#124;
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="classlfs-members.html">所有成员列表</a>  </div>
  <div class="headertitle">
<div class="title">lfs类 参考</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
类</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs_1_1lock.html">lock</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:a0d6a07e1847b3f28e7a7eb080356ce07"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#a0d6a07e1847b3f28e7a7eb080356ce07">attributes</a> (<a class="el" href="classlocal.html">local</a> filepath, <a class="el" href="classlocal.html">local</a> name_or_result)</td></tr>
<tr class="separator:a0d6a07e1847b3f28e7a7eb080356ce07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47ece2eba037ba6d6b2dbc4b672745c6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#a47ece2eba037ba6d6b2dbc4b672745c6">chdir</a> (<a class="el" href="classlocal.html">local</a> path)</td></tr>
<tr class="separator:a47ece2eba037ba6d6b2dbc4b672745c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dbc216640a8995f7259a5e1d07f5bb7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#a7dbc216640a8995f7259a5e1d07f5bb7">currentdir</a> ()</td></tr>
<tr class="separator:a7dbc216640a8995f7259a5e1d07f5bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de09a351245dafb48d3781832502b91"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#a9de09a351245dafb48d3781832502b91">dir</a> (<a class="el" href="classlocal.html">local</a> path)</td></tr>
<tr class="separator:a9de09a351245dafb48d3781832502b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b968ebe196a01e00de7740c84c3b673"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#a7b968ebe196a01e00de7740c84c3b673">link</a> (<a class="el" href="classlocal.html">local</a> old, <a class="el" href="classlocal.html">local</a> new, <a class="el" href="classlocal.html">local</a> symlink)</td></tr>
<tr class="separator:a7b968ebe196a01e00de7740c84c3b673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55e24166a9ec7104b0e2553cbf2b7c5f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#a55e24166a9ec7104b0e2553cbf2b7c5f">lock</a> (<a class="el" href="classlocal.html">local</a> filehandle, <a class="el" href="classlocal.html">local</a> mode, <a class="el" href="classlocal.html">local</a> start, <a class="el" href="classlocal.html">local</a> length)</td></tr>
<tr class="separator:a55e24166a9ec7104b0e2553cbf2b7c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad83e3e1d99a46a71e4fe95038781957b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#ad83e3e1d99a46a71e4fe95038781957b">lock_dir</a> (<a class="el" href="classlocal.html">local</a> path, <a class="el" href="classlocal.html">local</a> seconds_stale)</td></tr>
<tr class="separator:ad83e3e1d99a46a71e4fe95038781957b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac985ba79688bb1aa64d9a483dfbe650d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#ac985ba79688bb1aa64d9a483dfbe650d">mkdir</a> (<a class="el" href="classlocal.html">local</a> dirname)</td></tr>
<tr class="separator:ac985ba79688bb1aa64d9a483dfbe650d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fc124822ab96b236ffcc9b217921fb8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#a7fc124822ab96b236ffcc9b217921fb8">rmdir</a> (<a class="el" href="classlocal.html">local</a> dirname)</td></tr>
<tr class="separator:a7fc124822ab96b236ffcc9b217921fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d651f04e713733e91fa54f3bd3e1b3f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#a5d651f04e713733e91fa54f3bd3e1b3f">setmode</a> (<a class="el" href="classlocal.html">local</a> <a class="el" href="classfile.html">file</a>, <a class="el" href="classlocal.html">local</a> mode)</td></tr>
<tr class="separator:a5d651f04e713733e91fa54f3bd3e1b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c28a9e0ad4e718bb63cb959b22043e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#a83c28a9e0ad4e718bb63cb959b22043e">symlinkattributes</a> (<a class="el" href="classlocal.html">local</a> filepath, <a class="el" href="classlocal.html">local</a> request_name)</td></tr>
<tr class="separator:a83c28a9e0ad4e718bb63cb959b22043e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae72abd0e5718ec4d4535c6ae70612496"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#ae72abd0e5718ec4d4535c6ae70612496">touch</a> (<a class="el" href="classlocal.html">local</a> filepath, <a class="el" href="classlocal.html">local</a> atime, <a class="el" href="classlocal.html">local</a> mtime)</td></tr>
<tr class="separator:ae72abd0e5718ec4d4535c6ae70612496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387356f1b63a386714073574a6e8025c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfunction.html">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlfs.html#a387356f1b63a386714073574a6e8025c">unlock</a> (<a class="el" href="classlocal.html">local</a> filehandle, <a class="el" href="classlocal.html">local</a> start, <a class="el" href="classlocal.html">local</a> length)</td></tr>
<tr class="separator:a387356f1b63a386714073574a6e8025c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">成员函数说明</h2>
<a id="a0d6a07e1847b3f28e7a7eb080356ce07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d6a07e1847b3f28e7a7eb080356ce07">&#9670;&nbsp;</a></span>attributes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> attributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>name_or_result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LuaFileSystem is a Lua library developed to complement the set of functions related to file systems offered by the standard Lua distribution.</p>
<p>LuaFileSystem offers a portable way to access the underlying directory structure and file attributes. Returns a table with the file attributes corresponding to filepath (or nil followed by an error message and a system-dependent error code in case of error). If the second optional argument is given and is a string, then only the value of the named attribute is returned (this use is equivalent to lfs.attributes(filepath)[request_name], but the table is not created and only one attribute is retrieved from the O.S.). if a table is passed as the second argument, it (result_table) is filled with attributes and returned instead of a new table. The attributes are described as follows; attribute mode is a string, all the others are numbers, and the time related attributes use the same time reference of <a class="el" href="classos.html#a9334cc10d14c4ee76fadf247670caf75">os.time</a>:</p>
<h3>dev</h3>
<p>on Unix systems, this represents the device that the inode resides on. On Windows systems, represents the drive number of the disk containing the file</p>
<h3>ino</h3>
<p>on Unix systems, this represents the inode number. On Windows systems this has no meaning</p>
<h3>mode</h3>
<p>string representing the associated protection mode (the values could be file, directory, link, socket, named pipe, char device, block device or other)</p>
<h3>nlink</h3>
<p>number of hard links to the file</p>
<h3>uid</h3>
<p>user-id of owner (Unix only, always 0 on Windows)</p>
<h3>gid</h3>
<p>group-id of owner (Unix only, always 0 on Windows)</p>
<h3>rdev</h3>
<p>on Unix systems, represents the device type, for special file inodes. On Windows systems represents the same as dev</p>
<h3>access</h3>
<p>time of last access</p>
<h3>modification</h3>
<p>time of last data modification</p>
<h3>change</h3>
<p>time of last file status change</p>
<h3>size</h3>
<p>file size, in bytes</p>
<h3>permissions</h3>
<p>file permissions string</p>
<h3>blocks</h3>
<p>block allocated for file; (Unix only)</p>
<h3>blksize</h3>
<p>optimal file system I/O blocksize; (Unix only)</p>
<p>This function uses stat internally thus if the given filepath is a symbolic link, it is followed (if it points to another link the chain is followed recursively) and the information is about the file it refers to. To obtain information about the link itself, see function <a class="el" href="classlfs.html#a83c28a9e0ad4e718bb63cb959b22043e">lfs.symlinkattributes</a>.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">filepath</td><td>string</td></tr>
    <tr><td class="paramname">name_or_result</td><td>string|table optional</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>table|string|number,string,number </dd></dl>

</div>
</div>
<a id="a47ece2eba037ba6d6b2dbc4b672745c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47ece2eba037ba6d6b2dbc4b672745c6">&#9670;&nbsp;</a></span>chdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> chdir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Changes the current working directory to the given path.</p>
<p>Returns true in case of success or nil plus an error string.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>boolean,string </dd></dl>

</div>
</div>
<a id="a7dbc216640a8995f7259a5e1d07f5bb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dbc216640a8995f7259a5e1d07f5bb7">&#9670;&nbsp;</a></span>currentdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> currentdir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a string with the current working directory or nil plus an error string.</p>
<dl class="section return"><dt>返回</dt><dd>boolean,string </dd></dl>

</div>
</div>
<a id="a9de09a351245dafb48d3781832502b91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9de09a351245dafb48d3781832502b91">&#9670;&nbsp;</a></span>dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> dir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lua iterator over the entries of a given directory. Each time the iterator is called with dir_obj it returns a directory entry's name as a string, or nil if there are no more entries. You can also iterate by calling dir_obj:<a class="el" href="classstd_1_1list__iterator.html#af87893be177dbbcd89fbe1663f0b71ff">next()</a>, and explicitly close the directory before the iteration finished with dir_obj:<a class="el" href="classfile.html#aa7d699263d570c9906c69110cdbafc66">close()</a>. Raises an error if path is not a directory.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>function,any </dd></dl>

</div>
</div>
<a id="a7b968ebe196a01e00de7740c84c3b673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b968ebe196a01e00de7740c84c3b673">&#9670;&nbsp;</a></span>link()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> link </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>symlink</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a link. The first argument is the object to link to and the second is the name of the link. If the optional third argument is true, the link will by a symbolic link (by default, a hard link is created).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">old</td><td>string</td></tr>
    <tr><td class="paramname">new</td><td>string</td></tr>
    <tr><td class="paramname">symlink</td><td>boolean optional </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a55e24166a9ec7104b0e2553cbf2b7c5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55e24166a9ec7104b0e2553cbf2b7c5f">&#9670;&nbsp;</a></span>lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> <a class="el" href="classlfs_1_1lock.html">lock</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>filehandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locks a file or a part of it. This function works on open files; the file handle should be specified as the first argument. The string mode could be either r (for a read/shared lock) or w (for a write/exclusive lock). The optional arguments start and length can be used to specify a starting point and its length; both should be numbers.</p>
<p>Returns true if the operation was successful; in case of error, it returns nil plus an error string.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>file</td></tr>
    <tr><td class="paramname">mode</td><td>string</td></tr>
    <tr><td class="paramname">start</td><td>number optional</td></tr>
    <tr><td class="paramname">length</td><td>number optional</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>boolean,string </dd></dl>

</div>
</div>
<a id="ad83e3e1d99a46a71e4fe95038781957b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad83e3e1d99a46a71e4fe95038781957b">&#9670;&nbsp;</a></span>lock_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> lock_dir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>seconds_stale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a lockfile (called lockfile.lfs) in path if it does not exist and returns the lock. If the lock already exists checks if it's stale, using the second parameter (default for the second parameter is INT_MAX, which in practice means the lock will never be stale. To free the the lock call lock:<a class="el" href="classlfs_1_1lock.html#aabf1bbf45f18b7b5da5cf036f771410a">free()</a>.</p>
<p>In case of any errors it returns nil and the error message. In particular, if the lock exists and is not stale it returns the "File exists" message.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>string</td></tr>
    <tr><td class="paramname">seconds_stale</td><td>number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><a class="el" href="classlfs_1_1lock.html">lfs.lock</a>,string </dd></dl>

</div>
</div>
<a id="ac985ba79688bb1aa64d9a483dfbe650d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac985ba79688bb1aa64d9a483dfbe650d">&#9670;&nbsp;</a></span>mkdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> mkdir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>dirname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new directory. The argument is the name of the new directory.</p>
<p>Returns true in case of success or nil, an error message and a system-dependent error code in case of error.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">dirname</td><td>string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>boolean,string,number </dd></dl>

</div>
</div>
<a id="a7fc124822ab96b236ffcc9b217921fb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fc124822ab96b236ffcc9b217921fb8">&#9670;&nbsp;</a></span>rmdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> rmdir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>dirname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes an existing directory. The argument is the name of the directory.</p>
<p>Returns true in case of success or nil, an error message and a system-dependent error code in case of error.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">dirname</td><td>string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>boolean,string,number </dd></dl>

</div>
</div>
<a id="a5d651f04e713733e91fa54f3bd3e1b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d651f04e713733e91fa54f3bd3e1b3f">&#9670;&nbsp;</a></span>setmode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> setmode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the writing mode for a file. The mode string can be either "binary" or "text". Returns true followed the previous mode string for the file, or nil followed by an error string in case of errors. On non-Windows platforms, where the two modes are identical, setting the mode has no effect, and the mode is always returned as binary.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>string</td></tr>
    <tr><td class="paramname">mode</td><td>string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>boolean,string </dd></dl>

</div>
</div>
<a id="a83c28a9e0ad4e718bb63cb959b22043e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83c28a9e0ad4e718bb63cb959b22043e">&#9670;&nbsp;</a></span>symlinkattributes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> symlinkattributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>request_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Identical to <a class="el" href="classlfs.html#a0d6a07e1847b3f28e7a7eb080356ce07">lfs.attributes</a> except that it obtains information about the link itself (not the file it refers to). It also adds a target field, containing the file name that the symlink points to. On Windows this function does not yet support links, and is identical to <a class="el" href="classlfs.html#a0d6a07e1847b3f28e7a7eb080356ce07">lfs.attributes</a>.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">filepath</td><td>string</td></tr>
    <tr><td class="paramname">request_name</td><td>string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae72abd0e5718ec4d4535c6ae70612496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae72abd0e5718ec4d4535c6ae70612496">&#9670;&nbsp;</a></span>touch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> touch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>atime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>mtime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set access and modification times of a file. This function is a bind to utime function. The first argument is the filename, the second argument (atime) is the access time, and the third argument (mtime) is the modification time. Both times are provided in seconds (which should be generated with Lua standard function <a class="el" href="classos.html#a9334cc10d14c4ee76fadf247670caf75">os.time</a>). If the modification time is omitted, the access time provided is used; if both times are omitted, the current time is used.</p>
<p>Returns true in case of success or nil, an error message and a system-dependent error code in case of error.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">filepath</td><td>string</td></tr>
    <tr><td class="paramname">atime</td><td>number</td></tr>
    <tr><td class="paramname">mtime</td><td>number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>boolean,string,number </dd></dl>

</div>
</div>
<a id="a387356f1b63a386714073574a6e8025c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387356f1b63a386714073574a6e8025c">&#9670;&nbsp;</a></span>unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfunction.html">function</a> unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>filehandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlocal.html">local</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlocks a file or a part of it. This function works on open files; the file handle should be specified as the first argument. The optional arguments start and length can be used to specify a starting point and its length; both should be numbers.</p>
<p>Returns true if the operation was successful; in case of error, it returns nil plus an error string.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>file</td></tr>
    <tr><td class="paramname">start</td><td>number</td></tr>
    <tr><td class="paramname">length</td><td>number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>boolean,string </dd></dl>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>lua/<a class="el" href="lfs_8lua_8hpp.html">lfs.lua.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classlfs.html">lfs</a></li>
    <li class="footer">生成于 2020年 七月 21日 星期二 18:34:28 , 为 LuaSTG-x Core API使用 
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
